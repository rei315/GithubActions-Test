require "json"

TEST = ARGV[0]

DATA = {"data"=>[{"type"=>"ciWorkflows", "id"=>"83AE7B2D-abcd-abcd-abcd-C84D454824B3", "attributes"=>{"isLockedForEditing"=>false, "tagStartCondition"=>nil, "lastModifiedDate"=>"2022-10-26T13:25:48.385Z", "description"=>"ただ開発のためのWorkflowなので、ご自由に使ってください", "clean"=>false, "branchStartCondition"=>{"source"=>{"isAllMatch"=>false, "patterns"=>[{"pattern"=>"feature/rei/for-test-version-up", "isPrefix"=>false}]}, "filesAndFoldersRule"=>nil, "autoCancel"=>true}, "containerFilePath"=>"abc.xcworkspace", "pullRequestStartCondition"=>nil, "scheduledStartCondition"=>nil, "isEnabled"=>true, "name"=>"For-Develop", "actions"=>[{"name"=>"Build - iOS", "actionType"=>"BUILD", "destination"=>"ANY_IOS_DEVICE", "buildDistributionAudience"=>nil, "testConfiguration"=>nil, "scheme"=>"abc", "platform"=>"IOS", "isRequiredToPass"=>true}]}, "relationships"=>{"repository"=>{"links"=>{"self"=>"abc", "related"=>"abc"}}, "buildRuns"=>{"links"=>{"self"=>"abc", "related"=>"abc"}}}, "links"=>{"self"=>"abc"}}, {"type"=>"ciWorkflows", "id"=>"8602FF87-abcd-abcd-abcd-74C439E0F225", "attributes"=>{"isLockedForEditing"=>false, "tagStartCondition"=>nil, "lastModifiedDate"=>"2022-10-26T13:25:31.802Z", "description"=>"", "clean"=>true, "branchStartCondition"=>{"source"=>{"isAllMatch"=>false, "patterns"=>[{"pattern"=>"releasae/tmp-", "isPrefix"=>true}]}, "filesAndFoldersRule"=>nil, "autoCancel"=>true}, "containerFilePath"=>"abc.xcworkspace", "pullRequestStartCondition"=>nil, "scheduledStartCondition"=>nil, "isEnabled"=>true, "name"=>"Archive-For-Release", "actions"=>[{"name"=>"Archive - iOS", "actionType"=>"ARCHIVE", "destination"=>nil, "buildDistributionAudience"=>"APP_STORE_ELIGIBLE", "testConfiguration"=>nil, "scheme"=>"abc", "platform"=>"IOS", "isRequiredToPass"=>true}]}, "relationships"=>{"repository"=>{"links"=>{"self"=>"abc", "related"=>"abc"}}, "buildRuns"=>{"links"=>{"self"=>"abc", "related"=>"abc"}}}, "links"=>{"self"=>"abc"}}, {"type"=>"ciWorkflows", "id"=>"0dfb8c43-abcd-abcd-abcd-f21265edf479", "attributes"=>{"isLockedForEditing"=>false, "tagStartCondition"=>nil, "lastModifiedDate"=>"2022-10-25T05:22:41.934Z", "description"=>"", "clean"=>false, "branchStartCondition"=>{"source"=>{"isAllMatch"=>false, "patterns"=>[{"pattern"=>"develop", "isPrefix"=>false}]}, "filesAndFoldersRule"=>nil, "autoCancel"=>true}, "containerFilePath"=>"abc.xcworkspace", "pullRequestStartCondition"=>nil, "scheduledStartCondition"=>nil, "isEnabled"=>false, "name"=>"Test-CI", "actions"=>[{"name"=>"Build - iOS", "actionType"=>"BUILD", "destination"=>"ANY_IOS_DEVICE", "buildDistributionAudience"=>nil, "testConfiguration"=>nil, "scheme"=>"abc", "platform"=>"IOS", "isRequiredToPass"=>true}]}, "relationships"=>{"repository"=>{"links"=>{"self"=>"abc", "related"=>"abc"}}, "buildRuns"=>{"links"=>{"self"=>"abc", "related"=>"abc"}}}, "links"=>{"self"=>"abc"}}, {"type"=>"ciWorkflows", "id"=>"E30FF61A-abcd-abcd-abcd-26422B74C4FD", "attributes"=>{"isLockedForEditing"=>false, "tagStartCondition"=>nil, "lastModifiedDate"=>"2022-10-26T13:25:41.321Z", "description"=>"", "clean"=>false, "branchStartCondition"=>{"source"=>{"isAllMatch"=>false, "patterns"=>[{"pattern"=>"feature/rei/testflight-", "isPrefix"=>true}, {"pattern"=>"feature/rei/test-for-testflight-time", "isPrefix"=>false}]}, "filesAndFoldersRule"=>nil, "autoCancel"=>true}, "containerFilePath"=>"abc.xcworkspace", "pullRequestStartCondition"=>nil, "scheduledStartCondition"=>nil, "isEnabled"=>true, "name"=>"Archive-For-TestFlight", "actions"=>[{"name"=>"Archive - iOS", "actionType"=>"ARCHIVE", "destination"=>nil, "buildDistributionAudience"=>"INTERNAL_ONLY", "testConfiguration"=>nil, "scheme"=>"abc", "platform"=>"IOS", "isRequiredToPass"=>true}]}, "relationships"=>{"repository"=>{"links"=>{"self"=>"abc", "related"=>"abc"}}, "buildRuns"=>{"links"=>{"self"=>"abc", "related"=>"abc"}}}, "links"=>{"self"=>"abc"}}], "links"=>{"self"=>"abc"}, "meta"=>{"paging"=>{"limit"=>50}}}

puts DATA["data"].find {|data| data["attributes"]["name"] == "Archive-For-TestFlight"}
